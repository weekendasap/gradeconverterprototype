:root{
  --bg:#f6f7fb;
  --text:#1f2937;
  --muted:#667085;
  --muted-2:#98a2b3;

  --card:#ffffff;
  --border:#e5e7eb;

  --primary:#0a66ff;
  --primary-dark:#0a55d6;

  --red:#dc3545;
  --purple:#6d28d9;

  --error:#e03131;
  --error-bg:#fff5f5;

  --radius:12px;
  --radius-sm:8px;

  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

.app{max-width:1200px;margin:0 auto;padding:16px}

/* 헤더 */
.page-header{ text-align:center; margin:8px 0 16px; }
.page-header h1{
  margin:0 0 6px;
  font-size: clamp(1.5rem, 1.2rem + 1.2vw, 2.1rem);
  letter-spacing:-0.01em;
}
.page-header .description{ color:var(--muted); font-size:.96rem; }
.is-bold{ font-weight:900; }

/* 검증 요약 */
.validation-summary{
  display:none;
  background:var(--error-bg);
  color:var(--error);
  border:1px solid #ffd1d1;
  border-radius:var(--radius-sm);
  padding:10px 12px;
  margin:8px 0 12px;
  font-weight:700;
}
.validation-summary.show{display:block}

/* 레이아웃 */
.layout{
  display:grid;
  grid-template-columns: 1fr 1.25fr;
  gap:16px;
}
.panel{ display:flex; flex-direction:column; gap:16px; }

/* 카드: 미니멀 */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:10px;
  padding:14px;
  box-shadow:none; /* 간결하게 */
}
.card h2{
  margin:0 0 8px;
  font-size:1.05rem;
  color:#0f172a;
  font-weight:800; /* 섹션 타이틀 강조 */
}

/* 입력 폼 */
.input-group{
  display:flex; flex-direction:column; gap:8px; margin-bottom:10px;
}
.input-group label{
  font-weight:700; color:#344054; font-size:.95rem;
}
.input-group input[type="number"]{
  padding:10px 12px;
  border:1px solid #d0d5dd;
  border-radius:8px;
  font-size:1rem;
  background:#fff;
  -webkit-appearance:none;
  -moz-appearance:textfield;
}
.input-group input[type="number"]::-webkit-outer-spin-button,
.input-group input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
.input-group input[type="number"]:focus{
  outline:none; border-color:var(--primary);
  box-shadow:0 0 0 2px rgba(10,102,255,.18);
}
.input-group .input-hint{ color:var(--muted-2); font-size:.82rem; }
.input-group .error-message{ min-height:1em; color:var(--error); font-size:.86rem; font-weight:700; }
.input-group.invalid input{ border-color:var(--error); background: var(--error-bg); }

.subject-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:10px;
}
.subject .subject-title{
  font-weight:800; color:#1d4ed8; margin-bottom:2px;
}

/* 버튼: 평면형 */
.actions{ display:flex; gap:10px; justify-content:flex-start; }
button{
  border:none; border-radius:8px; cursor:pointer; touch-action:manipulation;
  font-weight:800; font-size:.98rem; padding:10px 16px; transition:.15s ease;
}
button.primary{ background:var(--primary); color:#fff; }
button.primary:hover{ background:var(--primary-dark); transform: translateY(-1px); }
button.secondary{ background:#f3f4f6; color:#111827; border:1px solid #e5e7eb; }
button.secondary:hover{ background:#edeff3; }

/* 결과 */
.result-section > h2{ font-weight:900; } /* 계산 결과 타이틀 굵게 */
.result-section h3{ margin:6px 0 8px; color:#0f172a; font-size:1rem; }
.result-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap:10px;
}
.grade-result-item{
  background:#fafafa; border:1px solid #ececec; border-radius:8px; padding:10px;
}
.grade-result-item .item-head{ margin-bottom:6px; font-weight:800; }
.grade-result-item .item-body{ color:#111827; line-height:1.5; font-size:.96rem; }

/* 배지(필): 단순화 */
.pill{
  display:inline-block; padding:2px 10px; border-radius:999px;
  font-weight:800; font-size:.93em; vertical-align:middle;
}
.pill-blue{ background:#eef4ff; color:#0a3ea8; border:1px solid #d9e6ff; }
.pill-red{ background:#ffe9ec; color:#a30e1a; border:1px solid #ffd2d8; }
.pill-purple{ background:#f2eaff; color:#5b21b6; border:1px solid #e2d6ff; }
.pill.big{ font-size:1.08em; padding:4px 12px; }

/* 종합 */
.overall-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap:10px; margin-top:8px;
}
.overall-item{
  background:#fff; border:1px solid #ececec; border-radius:8px; padding:10px;
}
.overall-title{ color:#475467; font-weight:800; margin-bottom:4px; }
.overall-value{ font-size:1.02rem; font-weight:900; color:#111827; }

/* 피라미드 */
.pyramid-block{ margin-top:12px; }
.percentile-text{ color:#0f172a; font-weight:900; }
.pyramid-container{
  width:100%; height:200px;
  border:1px solid #ececec; border-radius:8px; background:#fff;
  display:flex; align-items:center; justify-content:center; overflow:hidden;
}

/* 준비중 카드 */
.muted-card{ background:#fcfcfd; color:#98a2b3; border-style:dashed; }

/* 모바일 하단 액션바 */
.action-bar{
  position:fixed; left:0; right:0; bottom:0;
  padding:8px 12px calc(8px + var(--safe-bottom));
  background: rgba(255,255,255,.9);
  border-top:1px solid #e9ecef;
  z-index:50;
}
.action-bar-inner{ max-width:1200px; margin:0 auto; display:grid; grid-template-columns:1fr 1fr; gap:10px; }
@media (min-width: 861px){ .action-bar{ display:none; } }

/* 반응형 */
@media (max-width: 860px){
  .layout{ grid-template-columns: 1fr; }
}